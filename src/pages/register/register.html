<ion-content class="register-content">
  <ion-row class="logo-row">
      <ion-col col-2>
        <img src="assets/imgs/back-button.png" (click)="back()"/>
      </ion-col>
      <ion-col col-1></ion-col>
      <ion-col col-6 padding>
        <img src="assets/imgs/logo.png"/>
      </ion-col>
      <ion-col col-3></ion-col>
    </ion-row>
    <ion-row class="register-row">
      <div class="register-box">

        <form class="register-form" [formGroup]="registerForm">
          <ion-row>
            <ion-col>
              <ion-list inset>
                <ion-item>
                  <ion-label><ion-icon name="person"></ion-icon></ion-label>
                  <ion-input type="text" placeholder="{{'username' | translate}}" formControlName="username" [class.invalid]="!registerForm.controls.username.valid && (registerForm.controls.username.dirty || submitAttempt)"></ion-input>
                </ion-item>
                <ion-item text-wrap *ngIf="!registerForm.controls.username.valid  && (registerForm.controls.username.dirty || submitAttempt)">
                  <p>{{ 'username_invalid' | translate }}</p>
                </ion-item>

                <ion-item>
                  <ion-label><ion-icon name="mail"></ion-icon></ion-label>
                  <ion-input type="text" placeholder="{{ 'email' | translate }}" name="email" formControlName="email" [class.invalid]="!registerForm.controls.email.valid && (registerForm.controls.email.dirty || submitAttempt)"></ion-input>
                </ion-item>
                <ion-item text-wrap *ngIf="!registerForm.controls.email.valid  && (registerForm.controls.email.dirty || submitAttempt)">
                  <p>{{ 'email_invalid' | translate }}</p>
                </ion-item>

                <ion-item>
                  <ion-label class="birthdate-label"><ion-icon name="calendar"> <span class="birthdate">{{ 'birthdate' | translate }}</span></ion-icon></ion-label>
                  <ion-datetime displayFormat="DD - MM - YYYY" name="birthdate" formControlName="birthdate" [class.invalid]="!registerForm.controls.birthdate.valid && (registerForm.controls.birthdate.dirty || submitAttempt)"></ion-datetime>
                </ion-item>
                <ion-item text-wrap *ngIf="!registerForm.controls.birthdate.valid  && (registerForm.controls.birthdate.dirty || submitAttempt)">
                  <p>{{ 'birthdate_invalid' | translate }}</p>
                </ion-item>
                
              <ion-item>
                <ion-label><ion-icon name="locate"></ion-icon></ion-label>
                <ion-input type="text" placeholder="{{ 'postal_code' | translate }}" name="postal_code" formControlName="postal_code" [class.invalid]="!registerForm.controls.postal_code.valid && (registerForm.controls.postal_code.dirty || submitAttempt)"></ion-input>
              </ion-item>
              <ion-item text-wrap *ngIf="!registerForm.controls.postal_code.valid  && (registerForm.controls.postal_code.dirty || submitAttempt)">
                <p>{{ 'postal_invalid' | translate }}</p>
              </ion-item>

                <ion-item>
                  <ion-label><ion-icon name="lock"></ion-icon></ion-label>
                  <ion-input type="password" placeholder="{{ 'password' | translate }}" formControlName="password" [class.invalid]="!registerForm.controls.password.valid && (registerForm.controls.password.dirty || submitAttempt)"></ion-input>
                </ion-item>
                <ion-item text-wrap *ngIf="!registerForm.controls.password.valid  && (registerForm.controls.password.dirty || submitAttempt)">
                  <p>{{ 'password_invalid' | translate }}</p>
                </ion-item>

                <ion-item>
                  <ion-label><ion-icon name="lock"></ion-icon></ion-label>
                  <ion-input type="password" placeholder="{{ 'confirm_password' | translate }}" formControlName="passwordConfirmation" [class.invalid]="!registerForm.controls.passwordConfirmation.valid && (registerForm.controls.passwordConfirmation.dirty || submitAttempt)"></ion-input>
                </ion-item>
                <ion-item text-wrap *ngIf="!registerForm.controls.passwordConfirmation.valid  && (registerForm.controls.passwordConfirmation.dirty || submitAttempt)">
                  <p>{{ 'password_doesnt_match' | translate}}</p>
                </ion-item>

              </ion-list>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col class="signup-col">
              <button ion-button class="register-btn" full (click)="register()" [disabled]="!registerForm.valid">{{ 'register' | translate}}</button>
            </ion-col>
          </ion-row>

        </form>
      </div>
    </ion-row>
</ion-content>
